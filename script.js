const translations = {
  en: {
    "brand.name": "Studio Fingerstyle Kitare",
    "brand.tagline": "Modern Fingerstyle Techniques",
    "nav.about": "About me",
    "nav.lessons": "What I teach",
    "nav.videos": "Techniques",
    "nav.pricing": "Prices",
    "nav.contact": "Contact",

    "hero.eyebrow": "Fingerstyle guitar lessons",
    "hero.title": "Learn to master the guitar with <span>modern fingerstyle techniques</span>.",
    "hero.subtitle":
      "One‑to‑one lessons for advanced guitarists or adult beginners. Learn modern fingerstyle, tasteful improvisation and how to write your own instrumental arrangements.",
    "hero.ctaPrimary": "Book a free intro lesson",
    "hero.ctaSecondary": "See what you’ll learn",
    "hero.badge": "Free 45‑minute session",
    "hero.note":
      "Online or in‑person in Ljubljana.",
    "hero.sessionLabel": "Next available: this week",
    "hero.sessionText":
      "Bring a song you love – we’ll turn it into a playable fingerstyle arrangement together.",
    "hero.stat1Number": "45–60 min",
    "hero.stat1Label": "Session length",
    "hero.stat2Number": "1 : 1",
    "hero.stat2Label": "Personal plan",
    "hero.stat3Number": "Advanced",
    "hero.stat3Label": "guitar students",

    "lessons.eyebrow": "What I teach",
    "lessons.title": " ",
    "lessons.subtitle": " ",
    "lessons.cards.fingerstyle.title": "Modern fingerstyle techniques",
    "lessons.cards.fingerstyle.body":
      "Percussive hits, independent hands, harmonics and patterns that make solo guitar sound full and rich.",
    "lessons.cards.improv.title": "Improvisation",
    "lessons.cards.improv.body":
      "Improvisation that sounds complete on its own, without any backing track.",
    "lessons.cards.covers.title": "Writing instrumental arrangements",
    "lessons.cards.covers.body":
      "Writing your own instrumental pieces and arrangements of songs you love.",
    "lessons.cards.originals.title": "Writing original instrumental pieces",
    "lessons.cards.originals.body":
      "Develop your own ideas into complete songs with structure, mood and dynamic fingerstyle textures.",
    "lessons.cards.rhythm.title": "Groove, rhythm & timing",
    "lessons.cards.rhythm.body":
      "Lock in your timing, learn interesting grooves in odd meters and make even simple chords sound alive.",
    "lessons.cards.mindset.title": "Practice mindset for advanced guitar students",
    "lessons.cards.mindset.body":
      "Short, realistic practice plans that fit around work, family and life — without losing progress.",

    "about.eyebrow": "About me",
    "about.title": " ",
    "about.subtitle": " ",
    "about.point1.title": "From music school to modern fingerstyle",
    "about.point1.body":
      "I began on classical guitar in music school and gradually focused on modern music arranged for a single guitar, continually learning for the last 20 years.",
    "about.point2.title": "Covers and original instrumental music",
    "about.point2.body":
      "I arrange songs for solo guitar and write my own instrumental pieces.",
    "about.point3.title": "Performing as a one‑man‑band guitarist",
    "about.point3.body":
      "On stage I perform solo with acoustic guitar, using modern fingerstyle to cover bass, chords, percussion and melody.",

    "videos.eyebrow": "Technique preview",
    "videos.title": "Short examples of advanced fingerstyle ideas.",
    "videos.subtitle":
      "Below are placeholder videos — in your live site, these become short clips showing the kind of techniques and arrangements we’ll explore together.",
    "videos.items.1.title": "Thumb–melody independence",
    "videos.items.1.body":
      "Keeping a steady bass pattern while your fingers play a flowing melody on top.",
    "videos.items.2.title": "Percussive hits & ghost notes",
    "videos.items.2.body":
      "Combine groove, chord stabs and subtle percussion for a modern sound.",
    "videos.items.3.title": "Harmonics & open tunings",
    "videos.items.3.body":
      "Use natural harmonics and creative tunings to get rich, cinematic textures.",
    "videos.items.4.title": "Improvising intros & outros",
    "videos.items.4.body":
      "Simple ideas to start and end songs in a way that feels natural and expressive.",
    "videos.items.5.title": "Turning chord progressions into songs",
    "videos.items.5.body":
      "Take a simple progression and build a full instrumental around it.",
    "videos.items.6.title": "Dynamic phrasing for emotional playing",
    "videos.items.6.body":
      "Use tone, dynamics and space to make even simple lines sound musical.",

    "pricing.eyebrow": "Prices",
    "pricing.title": "45‑ or 60‑minute focused lessons, first 45‑minute intro is free.",
    "pricing.subtitle":
      "The introductory lesson is completely free — we’ll talk about your goals, play a bit and design a realistic plan for you.",

    "pricing.online.label": "Online",
    "pricing.online.title": "Online lessons (video call)",
    "pricing.online.price": "25 € / 45‑minute lesson or 30 € / 60‑minute lesson",
    "pricing.online.item1": "Flexible scheduling",
    "pricing.online.item2": "Use of online materials",

    "pricing.inperson.label": "In person",
    "pricing.inperson.title": "In‑person lessons (Ljubljana)",
    "pricing.inperson.price": "40 € / 45‑minute lesson or 50 € / 60‑minute lesson",
    "pricing.inperson.item1":
      "Ideal if you’re in Ljubljana",
    "pricing.inperson.item2": "Option to blend online and in‑person sessions",

    "pricing.freeNote":
      "First 45‑minute introductory lesson is free (online or in‑person).",

    "contact.eyebrow": "Contact",
    "contact.title": "Let’s plan your free introductory lesson.",
    "contact.subtitle":
      "Tell me a bit about your level, what you’d like to play, and whether you prefer online or in‑person lessons. I’ll reply with a few suggested times.",
    "contact.note":
      "You can also email me directly at <span class=\"contact-email\">your.email@example.com</span>. Replace this placeholder with your real contact email.",

    "contact.form.nameLabel": "Name",
    "contact.form.emailLabel": "Email",
    "contact.form.formatLabel": "Preferred format",
    "contact.form.formatOnline": "Online",
    "contact.form.formatInPerson": "In person",
    "contact.form.formatEither": "Either",
    "contact.form.messageLabel": "What would you like to focus on?",
    "contact.form.messagePlaceholder":
      "Tell me about your experience, favorite artists, and what you’d love to be able to play.",
    "contact.form.submit": "Send request for free intro lesson",

    "footer.copy":
      "© <span id=\"year\"></span> Studio Fingerstyle Kitare – Fingerstyle guitar lessons for advanced players.",
    "footer.meta": " ",
  },
  sl: {
    "brand.name": "Studio Fingerstyle Kitare",
    "brand.tagline": "Sodobne fingerstyle tehnike",
    "nav.about": "O meni",
    "nav.lessons": "Kaj poučujem",
    "nav.videos": "Tehnike",
    "nav.pricing": "Cenik",
    "nav.contact": "Kontakt",

    "hero.eyebrow": "Ure fingerstyle kitare",
    "hero.title":
      "Nauči se obvladati kitaro z <span>modernimi fingerstyle tehnikami</span>.",
    "hero.subtitle":
      "Individualne ure za napredne kitariste ali odrasle začetnike. Uči se sodobni fingerstyle, improvizacijo in pisanje lastnih instrumentalnih aranžmajev.",
    "hero.ctaPrimary": "Rezerviraj brezplačno uvodno uro",
    "hero.ctaSecondary": "Poglej, kaj se boš naučil",
    "hero.badge": "Brezplačna 45‑minutna ura",
    "hero.note":
      "Online ali v živo v Ljubljani.",
    "hero.sessionLabel": "Naslednji termin: ta teden",
    "hero.sessionText":
      "Prinesi pesem, ki ti je všeč – skupaj jo spremeniva v fingerstyle aranžma.",
    "hero.stat1Number": "45–60 min",
    "hero.stat1Label": "Dolžina vaje",
    "hero.stat2Number": "1 : 1",
    "hero.stat2Label": "Osebni načrt",
    "hero.stat3Number": "Napredni",
    "hero.stat3Label": "tečaj kitare",

    "lessons.eyebrow": "Kaj poučujem",
    "lessons.title": " ",
    "lessons.subtitle": " ",
    "lessons.cards.fingerstyle.title": "Tehnike sodobnega fingerstylea",
    "lessons.cards.fingerstyle.body":
      "Perkusivni udarci, neodvisno igranje vsake roke, flažoleti in vzorci, ki naredijo solo kitaro polno in bogato.",
    "lessons.cards.improv.title": "Improvizacija",
    "lessons.cards.improv.body":
      "Improvizacija, ki ne potrebuje spremljave.",
    "lessons.cards.covers.title": "Pisanje instrumentalnih aranžmajev",
    "lessons.cards.covers.body":
      "Pisanje lastnih instrumentalnih skladb in priredb.",
    "lessons.cards.originals.title": "Pisanje lastnih instrumentalov",
    "lessons.cards.originals.body":
      "Razvij svoje ideje v celotne skladbe s strukturo, razpoloženjem in dinamičnim fingerstyle zvokom.",
    "lessons.cards.rhythm.title": "Ritem, groove in čas",
    "lessons.cards.rhythm.body": " ",
    "lessons.cards.mindset.title": "Vaje za napredne kitariste",
    "lessons.cards.mindset.body": " ",

    "about.eyebrow": "O meni",
    "about.title": " ",
    "about.subtitle": " ",
    "about.point1.title": "Klasična osnova, fokus na fingerstyle",
    "about.point1.body":
      "Po začetku v glasbeni šoli sem se osredotočil na sodobno glasbo, prirejeno za eno kitaro. Novo znanje aktivno pridobivam že 20 let.",
    "about.point2.title": "Priredbe in lastne instrumentalne skladbe",
    "about.point2.body":
      "Pesmi, ki so mi blizu, prirejam za solo kitaro in pišem lastne instrumentalne skladbe.",
    "about.point3.title": "Nastopam kot »one‑man‑band« kitarist",
    "about.point3.body":
      "Na odru nastopam sam z akustično kitaro – s sodobnim fingerstyle pristopom zapolnim vlogo celotnega benda: bas, akordi, perkusija in melodija.",

    "videos.eyebrow": "Predogled tehnik",
    "videos.title": "Kratki primeri naprednih fingerstyle idej.",
    "videos.subtitle":
      "Spodaj so začasni videi – na tvoji strani bodo tukaj kratki posnetki tehnik in aranžmajev, ki jih bova obravnavala.",
    "videos.items.1.title": "Neodvisnost palca in melodije",
    "videos.items.1.body":
      "Stalni bas s palcem, medtem ko prsti igrajo tekočo melodijo na vrhu.",
    "videos.items.2.title": "Perkusivni udarci in 'ghost' noti",
    "videos.items.2.body":
      "Združi groove, akorde in nežne perkusije za sodoben zvok.",
    "videos.items.3.title": "Flažoleti in odprte uglasitve",
    "videos.items.3.body":
      "Naravni flažoleti in ustvarjalne uglasitve za bogate, filmske zvočne podobe.",
    "videos.items.4.title": "Improvizirani uvodi in zaključki",
    "videos.items.4.body":
      "Preproste ideje za naravne, glasbene uvode in zaključke skladb.",
    "videos.items.5.title": "Iz akordov v pravo skladbo",
    "videos.items.5.body":
      "Iz preprostega zaporedja akordov zgradiva celoten instrumental.",
    "videos.items.6.title": "Dinamika in fraziranje",
    "videos.items.6.body":
      "Uporaba tona, dinamike in prostora, da tudi enostavne linije zvenijo čustveno.",

    "pricing.eyebrow": "Cenik",
    "pricing.title": "Osredotočene 45‑ ali 60‑minutne ure, prva 45‑minutna je brezplačna.",
    "pricing.subtitle":
      "Uvodna ura je popolnoma brezplačna – pogovoriva se o ciljih, nekaj zaigraš in pripraviva realen načrt.",

    "pricing.online.label": "Online",
    "pricing.online.title": "Online ure (video klic)",
    "pricing.online.price": "25 € / 45‑minutna ura ali 30 € / 60‑minutna ura",
    "pricing.online.item1": "Prilagodljiv urnik",
    "pricing.online.item2": "Uporaba online gradiv",

    "pricing.inperson.label": "V živo",
    "pricing.inperson.title": "Ure v živo (Ljubljana)",
    "pricing.inperson.price": "40 € / 45‑minutna ura ali 50 € / 60‑minutna ura",
    "pricing.inperson.item1":
      "Idealno, če si v Ljubljani",
    "pricing.inperson.item2": "Možnost kombiniranja online in ur v živo",

    "pricing.freeNote":
      "Prva 45‑minutna uvodna ura je brezplačna (online ali v živo).",

    "contact.eyebrow": "Kontakt",
    "contact.title": "Dogovoriva se za brezplačno uvodno uro.",
    "contact.subtitle":
      "Zapiši nekaj o svojem znanju, kaj želiš igrati in ali ti bolj ustreza online ali ura v živo. Odgovorim ti s predlogi terminov.",
    "contact.note":
      "Pišeš mi lahko tudi neposredno na <span class=\"contact-email\">your.email@example.com</span>. Ta naslov zamenjaj s svojim pravim emailom.",

    "contact.form.nameLabel": "Ime",
    "contact.form.emailLabel": "Email",
    "contact.form.formatLabel": "Način učenja",
    "contact.form.formatOnline": "Online",
    "contact.form.formatInPerson": "V živo",
    "contact.form.formatEither": "Kakorkoli",
    "contact.form.messageLabel": "Na čem bi se rad osredotočil?",
    "contact.form.messagePlaceholder":
      "Napiši mi, kakšne imaš izkušnje, najljubše izvajalce in kaj bi rad znal igrati.",
    "contact.form.submit": "Pošlji povpraševanje za uvodno uro",

    "footer.copy":
      "© <span id=\"year\"></span> Studio Fingerstyle Kitare – fingerstyle kitare za napredne kitariste.",
    "footer.meta":
      " ",
  },
};

function setLanguage(lang) {
  const dict = translations[lang];
  if (!dict) return;

  document.documentElement.lang = lang === "sl" ? "sl" : "en";

  // Update simple text / HTML nodes
  document.querySelectorAll("[data-i18n]").forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (!key || !dict[key]) return;

    // Some strings contain HTML (e.g. with spans)
    el.innerHTML = dict[key];
  });

  // Update placeholders separately
  document.querySelectorAll("[data-i18n-placeholder]").forEach((el) => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (!key || !dict[key]) return;
    el.setAttribute("placeholder", dict[key]);
  });

  // Update language switch UI
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.classList.toggle("active", btn.dataset.lang === lang);
  });

  // Persist choice
  try {
    localStorage.setItem("site-lang", lang);
  } catch {
    // ignore
  }
}

function initLanguage() {
  let lang = "sl";
  try {
    const stored = localStorage.getItem("site-lang");
    if (stored && translations[stored]) {
      lang = stored;
    }
  } catch {
    // ignore
  }
  setLanguage(lang);
}

function initNav() {
  const toggle = document.querySelector(".nav-toggle");
  const links = document.querySelector(".nav-links");

  if (!toggle || !links) return;

  toggle.addEventListener("click", () => {
    const expanded = toggle.getAttribute("aria-expanded") === "true";
    toggle.setAttribute("aria-expanded", String(!expanded));
    links.classList.toggle("open", !expanded);
  });

  links.addEventListener("click", (event) => {
    if (event.target instanceof HTMLAnchorElement) {
      toggle.setAttribute("aria-expanded", "false");
      links.classList.remove("open");
    }
  });
}

function initSmoothScrolling() {
  document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
    anchor.addEventListener("click", (event) => {
      const href = anchor.getAttribute("href");
      if (!href || href === "#") return;

      const target = document.querySelector(href);
      if (target) {
        event.preventDefault();
        target.scrollIntoView({ behavior: "smooth", block: "start" });
      }
    });
  });
}

function initContactForm() {
  const form = document.getElementById("contact-form");
  const success = document.getElementById("form-success");

  if (!form || !success) return;

  form.addEventListener("submit", (event) => {
    event.preventDefault();

    const formData = new FormData(form);
    const name = formData.get("name") || "";
    const email = formData.get("email") || "";
    const experience = formData.get("experience") || "";
    const format = formData.get("format") || "";
    const message = formData.get("message") || "";

    const lang = document.documentElement.lang === "sl" ? "sl" : "en";

    const subject =
      lang === "sl"
        ? "Povpraševanje za uvodno uro kitare"
        : "Request for free introductory guitar lesson";

    const bodyLines = [
      `Name / Ime: ${name}`,
      `Email: ${email}`,
      `Level / Znanje: ${experience}`,
      `Preferred format / Način: ${format}`,
      "",
      "Message / Sporočilo:",
      `${message}`,
    ];

    const mailto = `mailto:your.email@example.com?subject=${encodeURIComponent(
      subject
    )}&body=${encodeURIComponent(bodyLines.join("\n"))}`;

    window.location.href = mailto;

    success.hidden = false;
    success.textContent =
      lang === "sl"
        ? "Odprl se bo email z vnaprej izpolnjenimi podatki. Po potrebi ga dopolni in pošlji."
        : "An email draft will open with your details. Edit anything you like and hit send.";
  });
}

function initLangButtons() {
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.dataset.lang;
      if (!lang) return;
      setLanguage(lang);
    });
  });
}

function initYear() {
  const yearSpan = document.getElementById("year");
  if (yearSpan) {
    yearSpan.textContent = String(new Date().getFullYear());
  }
}

document.addEventListener("DOMContentLoaded", () => {
  initLanguage();
  initLangButtons();
  initNav();
  initSmoothScrolling();
  initContactForm();
  initYear();
});


